var _teamStructure={
   teamLeader: 'ketanpmundhra',
   cprManager: 'yash.kariwal',
   techManager: 'vishnu.mohan.9083477',
   subsystems: ['vehicleDynamics','powertrain','cpr'],
   'vehicleDynamics': [
       {
          img: 'DSC_0159.JPG',
          name: 'Arjun Deshmukh',
          tel: '+919002282104',
          email: 'darjun94@gmail.com',
          fb: 'arjun.deshmukh.5836',
          dept: 'Mechanical Engineering',
          spe: 'Suspension, Brakes and Steering ',
          x: 0.23,
          y: 0.32
       },
       {
          img: 'DSC_0142.JPG',
          name: 'Sarthak Jain',
          tel: '+918967688708',
          email: 'sarthakjain939@gmail.com',
          fb: 'sarthakjain93',
          dept: 'Civil Engineering',
          spe: 'Structural Analysis',
          x: 0.09,
          y: 0.27
       },
       {
          active: false,
          img: 'Arnab_400.jpg',
          name: 'Arnab Biswas',
          tel: '+919038866088',
          email: 'rik.arnab.26@gmail.com',
          fb: 'Arnab.Biswas.09',
          dept: 'Geology &amp; Geophysics',
          spe: 'Brake systems'
       },
     {
        img: 'DSC_0110.JPG',
        name: 'Ketan Mundhra',
        tel: '+919775881167',
        email: 'ketanmundhra@teamkart.in',
        fb: 'ketanpmundhra',
        dept: 'Mechanical Engineering',
        spe: 'Structural analysis and optimization',
        x: 0.59,
        y: 0.36
     },
     {
        img: 'DSC_0107.JPG',
        name: 'Nidhin',
        tel: '+917585965842',
        email: 'nidhin@teamkart.in',
        fb: 'lithium03.nidhin',
        dept: 'Aerospace Engineering',
        spe: 'Structures, Aerodynamics and Composite materials',
        x: 0.638,
        y: 0.31
     },
     {
        img: 'DSC_0173.JPG',
        name: 'Pratik Roy',
        tel: '+917797436488',
        email: 'pratikraja08@outlook.com',
        fb: 'pratik.roy08',
        dept: 'Mechanical Engineering',
        spe: 'Suspension, Manufacturing processes',
        x: 0.35,
        y: 0.36
     },
     {
        img: 'DSC_0114.JPG',
        name: 'Samir Shekhar',
        tel: '+919800916688',
        email: 'sameershekhar66@gmail.com',
        fb: 'samir.shekhar.9',
        dept: 'Mechanical Engineering',
        spe: 'Suspension, Manufacturing processes',
        x: 0.383,
        y: 0.36
     },
     {
        img: 'DSC_0064.JPG',
        name: 'Aman Batra',
        tel: '+918275869629',
        email: 'abatra19620@gmail.com',
        fb: 'aman.batra.35',
        dept: 'Mechanical Engineering',
        x: 0.66,
        y: 0.48
     },
     {
        img: 'DSC_0075.JPG',
        name: 'Bongarala Manohar',
        tel: '+918500729156',
        email: 'bongaralamanohar@gmail.com',
        fb: 'manohar.bongarala',
        dept: 'Mechanical Engineering',
        x: 0.21,
        y: 0.435
     },
     {
        img: 'DSC_0080.JPG',
        name: 'G.Sai Chand',
        tel: '+919933911727',
        email: 'saichandgubbala@gmail.com',
        fb: '100006889428003',
        dept: 'Mechanical Engineering',
        x: 0.93,
        y: 0.48
     },
     {
        img: 'DSC_0081.JPG',
        name: 'Sourav Bansal',
        tel: '+919836433836',
        email: 'souravbansal31@gmail.com',
        fb: 'sourav.bansal.5209',
        dept: 'Mechanical Engineering',
        x: 0.76,
        y: 0.5
     },
     {
        img: 'DSC_0088.JPG',
        name: 'Y. G. Sreevanshu',
        tel: '+918145750448',
        email: 'vanshu6991@gmail.com',
        fb: '100005303866169',
        dept: 'Aerospace Engineering',
        x: 0.71,
        y: 0.48
     },
     {
        img: 'DSC_0091.JPG',
        name: 'Yajat Pandya',
        tel: '+917076607476',
        email: 'yajatvp@gmail.com',
        fb: 'yajatvp',
        dept: 'Aerospace Engineering',
        x: 0.514,
        y: 0.45
     },
       {
          active: false,
          img: 'Akhilesh_Gogikar_400.jpg',
          name: 'Akhilesh Gogikar',
          position: 'Subsystem mentor',
          tel: '+919002305646',
          email: 'gogikar.akhilesh@gmail.com',
          fb: 'akhilesh.gogikar.7'
       },
       {
          active: false,
          img: 'Anubhavgoyal_400.jpg',
          name: 'Anubhav Goyal',
          position: 'Subsystem mentor',
          tel: '+918101450705',
          email: 'anubhavg94@gmail.com',
          fb: 'Anubhavg94'
       },
       {
          active: false,
          img: 'zaid.jpg',
          name: 'Zaid Parvez',
          position: 'Subsystem head',
          tel: '+919800128226',
          email: 'zaidparvez2010@gmail.com',
          fb: 'zaidparvez2010'
       },
       {
          active: false,
          img: 'S_Roshan_Kumar_400.jpg',
          name: 'S Roshan Kumar',
          position: 'Subsystem mentor',
          tel: '+917548082637',
          email: 'satapathy.roshan@gmail.com',
          fb: 'roshan.satapathy'
       },
       {
          active: false,
          img: 'Vivek_Narsaria_400.jpg',
          name: 'Vivek Narsaria',
          position: 'Subsystem mentor',
          tel: '+919002273355',
          email: 'vnarsaria01@gmail.com',
          fb: 'amazing.vivek'
       }
   ],
   'powertrain': [
       {
          img: 'DSC_0157.JPG',
          name: 'Aman Kumar',
          tel: '+918343997155',
          email: 'amankishu4@gmail.com',
          fb: 'amankishu',
          dept: 'Mechanical Engineering',
          spe: 'Engine tuning and control',
          x: 0.26,
          y: 0.29
       },
     {
        img: 'DSC_0164.JPG',
        name: 'Parimal Parth Sarathi',
        tel: '+917586812910',
        email: 'parimalparthsarathi@gmail.com',
        fb: 'parimalparth.sarathi',
        dept: 'Mechanical Engineering',
        spe: 'Transmission and gear shifting mechanisms',
        x: 0.19,
        y: 0.32
     },
     {
        img: 'DSC_0154.JPG',
        name: 'Vishesh Kapoor',
        tel: '+919547619069',
        email: 'visheshvipul@gmail.com',
        fb: 'visheshkapoor06',
        dept: 'Mechanical Engineering',
        spe: 'Engine intake, exhaust, fuel and cooling ',
        x: 0.14,
        y: 0.3
     },
     {
        img: 'DSC_0168.JPG',
        name: 'Abhimanyu Das',
        tel: '+917872687420',
        email: 'manyunov@gmail.com',
        fb: 'abhimanyu.das.79',
        dept: 'Mechanical Engineering',
        spe: 'Engine Intake, Exhaust, Cooling and Fuel systems',
        x: 0.31,
        y: 0.34
     },
     {
        img: 'DSC_0116.JPG',
        name: 'Himal Agarwal',
        tel: '+919800146717',
        email: 'himalagrawal@gmail.com',
        fb: 'himal.agrawal',
        dept: 'Mechanical Engineering',
        spe: 'Transmission systems',
        x: 0.67,
        y: 0.35
     },
     {
        img: 'DSC_0124.JPG',
        name: 'Maulik Goyal',
        tel: '+917797436323',
        email: 'goyalmaulik@gmail.com',
        fb: 'maulik.goyal.9',
        dept: 'Mechanical Engineering',
        spe: 'Engine Intake, Exhaust, Cooling and Fuel systems',
        x: 0.47,
        y: 0.31
     },
     {
        img: 'DSC_0121.JPG',
        name: 'Shaurya Veer Singh',
        tel: '+918609265681',
        email: 'shauryaveer95@gmail.com',
        fb: 'shauryaveer04',
        dept: 'Biotechnology',
        spe: 'Transmission systems',
        x: 0.55,
        y: 0.32
     },
     {
        img: 'DSC_0153.JPG',
        name: 'Siraj Modiwala',
        tel: '+917872837472',
        email: 'cj.siraj07@gmail.com',
        fb: 'siraj.modiwala',
        dept: 'Mechanical Engineering',
        spe: 'Transmission systems',
        x: 0.71,
        y: 0.34
     },
     {
        img: 'DSC_0103.JPG',
        name: 'Vishnu Mohan',
        tel: '+917872683562',
        email: 'vishnu.mohan1995@gmail.com',
        fb: 'vishnu.mohan.9083477',
        dept: 'Electrical Engineering',
        spe: 'Engine Electronics and Tuning',
        x: 0.51,
        y: 0.31
     },
     {
        img: 'DSC_0078.JPG',
        name: 'Harshit Kumar',
        tel: '+919933935255',
        email: 'harshitk11@gmail.com',
        fb: 'harshit.kumar.ThisIsSparta',
        dept: 'Electronics &amp; Electrical Communication Engineering',
        x: 0.556,
        y: 0.46
     },
     {
        img: 'DSC_0058.JPG',
        name: 'Ishan Bangia',
        tel: '+919933974970',
        email: 'bangia.naresh@gmail.com',
        fb: 'ishan.bangia',
        dept: 'Mechanical Engineering',
        x: 0.37,
        y: 0.47
     },
     {
        img: 'DSC_0095.JPG',
        name: 'Kevin Banker',
        tel: '+919933938678',
        email: 'bankerkevin@gmail.com',
        fb: 'bankerkevin',
        dept: 'Mechanical Engineering',
        x: 0.61,
        y: 0.47
     },
     {
        img: 'DSC_0055.JPG',
        name: 'M. Rohyth',
        tel: '+919933986148',
        email: 'rohumahendran@gmail.com',
        fb: 'RohythMahendran',
        dept: 'Mechanical Engineering',
        x: 0.26,
        y: 0.47
     },
     {
        img: 'DSC_0066.JPG',
        name: 'Prashant Yadav',
        tel: '+917699098371',
        email: 'iitkgpprashant.py@gmail.com',
        fb: 'prashant9538',
        dept: 'Electrical Engineering',
        x: 0.465,
        y: 0.46
     },
     {
        img: 'DSC_0052.JPG',
        name: 'Rohan Chaturvedi',
        tel: '+918145883595',
        email: 'rohanchaturvedi94@gmail.com',
        fb: 'rohan.chaturvedi.370',
        dept: 'Industrial &amp; Systems Engineering',
        x: 0.319,
        y: 0.45
     },
     {
        img: 'DSC_0073.JPG',
        name: 'Rohan Shah',
        tel: '+917044071677',
        email: 'rohan240796@gmail.com',
        fb: 'rohan.shah.92798072',
        dept: 'Mechanical Engineering',
        x: 0.87,
        y: 0.47
     },
     {
        img: 'DSC_0067.JPG',
        name: 'Shailesh Joshi',
        tel: '+917076607709',
        email: 'shailjoshi007@gmail.com',
        fb: 'shaillj',
        dept: 'Electronics &amp; Electrical Communication Engineering',
        x: 0.81,
        y: 0.49
     },
     {
        img: 'vraj.JPG',
        name: 'Vraj Parikh',
        tel: '+918000981472',
        email: 'vrjparikh@gmail.com',
        fb: 'vraj.parikh',
        dept: 'Mechanical Engineering'
     },
       {
          active: false,
          img: 'hussain_bohra_400.jpg',
          name: 'Hussain Bohra',
          position: 'Subsystem mentor',
          tel: '+919679381747',
          email: 'hussain52b@gmail.com',
          fb: 'hussain52b'
       },
       {
          active: false,
          img: 'Apurv_400.jpg',
          name: 'Apurv Shukla',
          position: 'Subsystem mentor',
          tel: '+917076607364',
          email: 'apurv3894@gmail.com',
          fb: 'apurv.shukla'
       },
       {
          active: false,
          img: 'Mockingjay.jpg',
          name: 'Jay Dixit',
          position: 'Subsystem mentor',
          tel: '+919735709373',
          email: '',
          fb: 'jay.dixit.7'
       },
       {
          active: false,
          img: 'nirav.jpg',
          name: 'Nirav Doshi',
          position: 'Subsystem head',
          tel: '+919800197945',
          email: 'niravdoshi95@gmail.com',
          fb: 'nirav.doshi95'
       },
       {
          active: false,
          img: 'pneumatic.jpg',
          name: 'Rohan Lohia',
          position: 'Subsystem head',
          tel: '+917872846690',
          email: 'rohan.r.lohia@gmail.com',
          fb: 'lohia.rohan'
       },
       {
          active: false,
          img: 'manik.jpg',
          name: 'Manik Sood',
          position: 'Subsystem mentor',
          tel: '+919002319501',
          email: '',
          fb: 'manik.sood.98'
       },
       {
          active: false,
          img: 'Anshul_Gupta_400.jpg',
          name: 'Anshul Gupta',
          position: 'Subsystem head',
          tel: '+918101573117',
          email: 'megaanshulgupta96@gmail.com',
          fb: 'megaanshulgupta'
       }
   ],
   'cpr': [
       {
          img: 'DSC_0122.JPG',
          name: 'Anubhav Singh',
          tel: '+919679895582',
          email: 'anubhavmfkgp@gmail.com',
          fb: 'anubhav.singh.1069',
          dept: 'Mechanical Engineering',
          x: 0.84,
          y: 0.34
       },
     {
        img: 'DSC_0135.JPG',
        name: 'Kumar Shivashish',
        tel: '+919800170318',
        email: 'k.shivashish7@gmail.com',
        fb: 'kumar.shivashish.7',
        dept: 'Mathematics',
        x: 0.93,
        y: 0.31
     },
     {
        img: 'DSC_0134.JPG',
        name: 'S Abdul Azeem',
        tel: '+919800140801',
        email: 'azeem.az.19@gmail.com',
        fb: 'abdulazeem1904',
        dept: 'Mechanical Engineering',
        x: 0.76,
        y: 0.33
     },
     {
        img: 'DSC_0133.JPG',
        name: 'Saurabh Guha',
        tel: '+918016280462',
        email: 'sguha.fb@gmail.com',
        fb: 'sguha7',
        dept: 'Ocean Engineering &amp; Naval Architecture',
        x: 0.798,
        y: 0.335
     },
     {
        img: 'DSC_0138.JPG',
        name: 'Vyom Shrivastava',
        tel: '+918609266433',
        email: 'mr.vyomshrivastava@gmail.com',
        fb: 'vyom.shrivastava.33',
        dept: 'Mechanical Engineering',
        x: 0.89,
        y: 0.34
     },
     {
        img: 'DSC_0166.JPG',
        name: 'Yash Kariwal',
        tel: '+917872834599',
        email: 'yash15kariwal@gmail.com',
        fb: 'yash.kariwal',
        dept: 'Mechanical Engineering',
        x: 0.43,
        y: 0.32
     },
     {
        img: 'DSC_0061.JPG',
        name: 'Mihir Kirloskar',
        tel: '+917872705514',
        email: 'mmkirloskar@teamkart.in',
        fb: '100006857084648',
        dept: 'Mechanical Engineering',
        x: 0.04,
        y: 0.47
     },
     {
        img: 'DSC_0144.JPG',
        name: 'Nikhil Damle',
        tel: '+918768706039',
        email: 'npdamle@teamkart.in',
        fb: 'nikhil.damle.14',
        dept: 'Mechanical Engineering',
        x: 0.425,
        y: 0.47
     },
     {
        img: 'DSC_0096.JPG',
        name: 'Prachi',
        tel: '+917872704560',
        email: 'prachi@teamkart.in',
        fb: '100007525419559',
        dept: 'Industrial &amp; Systems Engineering',
        x: 0.09,
        y: 0.49
     },
     {
        img: 'DSC_0100.JPG',
        name: 'Shrey Banka',
        tel: '+919933950751',
        email: 'shreybanka@teamkart.in',
        fb: 'shrey.banka',
        dept: 'Mechanical Engineering',
        x: 0.15,
        y: 0.46
     }
   ],
   generateGiven: function(id) {
      members=this[id];
      str='';
      for(j=0;members[j];j++)
         if(!(members[j].active===false))
            str=str+this.makeMarkup(members[j]);
      return str;
   },
   generateContactBox: function(id) {
      str='';
      found=false;
      s=id;
      id=(id==='#TEAMLEADER#')?this.teamLeader:id;
      id=(id==='#CPRMANAGER#')?this.cprManager:id;
      id=(id==='#TECHMANAGER#')?this.techManager:id;
      for(i=0;this.subsystems[i];i++) {
         for(j=0;this[this.subsystems[i]][j];j++) {
            if(this[this.subsystems[i]][j].fb===id) {
               found=true;
               obj=this[this.subsystems[i]][j];
               obj.position=(s==='#TEAMLEADER#')?'Team Leader':obj.position;
               obj.position=(s==='#CPRMANAGER#'||s==='#TECHMANAGER#')?'Team Manager':obj.position;
               str=this.makeContactBoxMarkup(obj);
               break;
            }
         }
         if(found)
            break;
      }
      return str;
   },
   makeMarkup: function(person) {
      return '<li>'+
          '<a href="#'+person.fb.replace(/[.]/g,'')+'" class="popup-with-zoom-anim person-name">'+person.name+'</a>'+
          '<div id="'+person.fb.replace(/[.]/g,'')+'" class="teamlist-popup zoom-anim-dialog mfp-hide">'+
          '<img src="https://d1asmq9pjfbzxs.cloudfront.net/images/members/'+person.img+'" />'+
          '<h3>'+
          person.name+
          '<a href="//fb.com/'+person.fb+'" target="_blank" class="contact-info">'+
          '<img class="popup-glyph" src="https://d1asmq9pjfbzxs.cloudfront.net/images/social-icons/facebook-black.png" />'+'</a>'+
          '</h3>'+
          '<h6>'+
          ((person.position==undefined)?'Dept. of '+person.dept+((person.spe!=undefined)?'</h6><h6>Focus areas: '+person.spe:''):person.position)+
          '</h6>'+
          '<h6>'+
          ((person.email=="")?"":'<a style="padding-right:1em;" href="mailto:'+person.email+'" target="_blank" class="contact-info">'+
          person.email+
          '</a>')+
          ((person.tel=="")?'':'|<a style="padding-left:1em;" href="tel:'+person.tel+'" class="contact-info">'+
          person.tel+
          '</a>')+
          '</h6>'+
          '</div>'+
          '</li>';
   },
   makeContactBoxMarkup: function(person) {
      return '<div class="contact-box">'+
          '<img class="contact-box-dp" src="https://d1asmq9pjfbzxs.cloudfront.net/images/members/'+person.img+'">'+
          '<h3>'+
          person.name+
          ((person.fb=='')?'':'<a href="//fb.com/'+person.fb+'" target="_blank" class="contact-info"><img class="popup-glyph" src="https://d1asmq9pjfbzxs.cloudfront.net/images/social-icons/facebook-black.png"></a>')+
          '</h3>'+
          '<h6>'+
          ((person.position==undefined)?'Dept. of '+person.dept:person.position)+
          '</h6>'+
          '<h6>'+
          ((person.email=='')?'':'<a href="mailto:'+person.email+'" target="_blank" class="contact-info">'+person.email+'</a>')+
          '</h6>'+
          '<h6>'+
          ((person.tel=='')?'':'<a href="tel:'+person.tel+'" class="contact-info">'+person.tel+'</a>')+
          '</h6>'+
          '</div>';
   }
}
function recalculateFacePositions() {
   offset=img.offset()
   height=img.height()
   width=img.width()
   for(i=0;divs[i];i++)
      $(divs[i]).css({
         'top': offset.top+divs[i]._y*height,
         'left': offset.left+divs[i]._x*width,
         'width': height*0.075,
         'height': height*0.075
      })
}
function initialiseFaces() {
   img=$('img[src="https://d1asmq9pjfbzxs.cloudfront.net/images/photos/team.jpg"]')
   divs=[]
   offset=img.offset()
   height=img.height()
   width=img.width()
   for(j=0;_teamStructure.subsystems[j];j++) {
      for(i=0;_teamStructure[_teamStructure.subsystems[j]][i];i++) {
         node=_teamStructure[_teamStructure.subsystems[j]][i]
         if(node.active===false||!node.x||!node.y)
            continue;
         var div=$('<div class="faces tooltip"><span class="tooltiptext"><span>'+node.name+'</span></span></div>')
         div.css({
            'top': offset.top+node.y*height,
            'left': offset.left+node.x*width,
            'width': height*0.075,
            'height': height*0.075
         })
         div.attr({
            'x': node.x,
            'y': node.y,
            'id': 'face_'+node.fb.replace(/[.]/g,'')
         })
         div.on('mouseenter',function() {
            id=$(this).attr('id').slice(5)
            $('a[href="#'+id+'"]').addClass('highlight');
         })
         div.on('mouseleave',function() {
            id=$(this).attr('id').slice(5)
            $('a[href="#'+id+'"]').removeClass('highlight');
         })
         div.on('click',function() {
            id=$(this).attr('id').slice(5)
            $('a[href="#'+id+'"]').click();
         })
         $('body').prepend(div)
         divs[divs.length]=div
         divs[divs.length-1]._x=node.x
         divs[divs.length-1]._y=node.y
      }
   }
   $('a.person-name').on('mouseover',function() {
      id=$(this).attr('href').slice(1)
      $('#face_'+id).addClass('face-unhide');
   })
   $('a.person-name').on('mouseout',function() {
      id=$(this).attr('href').slice(1)
      $('#face_'+id).removeClass('face-unhide');
   })
   $(window).on('resize orientationchange',recalculateFacePositions)
   $('#mainmenu-container').click(recalculateFacePositions)
}
module.exports=_teamStructure;
